<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Tutorial Lab Aman — Setup & Commands</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header class="header-area">
      <div class="container py-3 d-flex justify-content-between align-items-center">
        <a href="index.html" class="logo text-decoration-none"><h1 class="m-0">Blog Praktikum</h1></a>
      </div>
    </header>

    <main class="section">
      <div class="container">
        <h1>Tutorial Lab Aman — Setup & Commands</h1>
        <p class="lead">Panduan lengkap menyiapkan lab terisolasi, memulai tools utama, dan contoh perintah observasi/deteksi. Fokus etis: hanya untuk lingkungan yang Anda kontrol.</p>

        <section class="mt-4">
          <h4>1) Topologi Lab & Jaringan</h4>
          <ul>
            <li>Gunakan VirtualBox/VMware dengan jaringan <strong>Host-Only</strong> atau <strong>Internal Network</strong>.</li>
            <li>Contoh alamat: Kali (attacker/lab ops) 192.168.56.100, Target VM 192.168.56.101, Wazuh Manager 192.168.56.107.</li>
            <li>Aktifkan snapshot sebelum uji untuk rollback cepat.</li>
          </ul>
          <pre><code># Cek interface host-only di Linux host
ip a | grep 56:

# Atur IP statis di VM (contoh Debian/Ubuntu)
sudo nmcli con mod "Wired connection 1" ipv4.addresses 192.168.56.101/24 ipv4.gateway "" ipv4.method manual
sudo nmcli con up "Wired connection 1"
</code></pre>
        </section>

        <section class="mt-4">
          <h4>2) Kali Linux (Workstation Lab)</h4>
          <pre><code># Update paket
sudo apt update && sudo apt -y upgrade

# Tools dasar
sudo apt -y install nmap tcpdump wireshark tshark git python3-venv
</code></pre>
        </section>

        <section class="mt-4">
          <h4>3) Metasploitable 2 (Target Lab)</h4>
          <ul>
            <li>Import OVA/VMDK ke VirtualBox, set network ke Host-Only.</li>
            <li>Default kredensial: <code>msfadmin/msfadmin</code> (hanya untuk lab).</li>
          </ul>
          <pre><code># Cek IP di target (Metasploitable2)
ifconfig

# Dari Kali: pemindaian layanan
nmap -sV -p- 192.168.56.101
</code></pre>
        </section>

        <section class="mt-4">
          <h4>4) Snort (IDS) — Mode Monitor</h4>
          <pre><code># Install Snort 3 (Debian/Ubuntu)
sudo apt update
sudo apt install -y snort

# Lokasi konfigurasi umum
ls -l /etc/snort/

# Jalankan Snort di mode alert cepat (interface eth0/ens33 misal host-only)
sudo snort -c /etc/snort/snort.lua -i eth0 -A alert_fast -l /var/log/snort

# Lihat alert
sudo tail -f /var/log/snort/alert
</code></pre>
          <p class="text-muted">Gunakan hanya di jaringan lab. Tambahkan rule khusus di <code>/etc/snort/rules/local.rules</code> lalu restart proses Snort.</p>
        </section>

        <section class="mt-4">
          <h4>5) Cowrie Honeypot (SSH/Telnet)</h4>
          <pre><code># Persiapan
sudo apt update && sudo apt install -y git python3-venv python3-pip

git clone -b v2.4.0 https://github.com/cowrie/cowrie
cd cowrie
python3 -m venv cowrie-env
source cowrie-env/bin/activate
pip install --upgrade pip
pip install -r requirements.txt
pip install -e .

# Konfigurasi dasar
cp etc/cowrie.cfg.dist etc/cowrie.cfg
sed -n '1,40p' etc/cowrie.cfg  # edit hostname/port jika perlu

# Jalankan
bin/cowrie start

# Cek status & log
bin/cowrie status
tail -f var/log/cowrie/cowrie.log
</code></pre>
          <p class="text-muted">Pastikan berjalan di jaringan terisolasi. Gunakan snapshot sebelum/ sesudah uji.</p>
        </section>

        <section class="mt-4">
          <h4>6) Wazuh (Ringkas) — Manager & Agent</h4>
          <pre><code># Tambah repo Wazuh (Ubuntu 22.04)
curl -s https://packages.wazuh.com/key/GPG-KEY-WAZUH | sudo gpg --dearmor -o /usr/share/keyrings/wazuh.gpg
echo "deb [signed-by=/usr/share/keyrings/wazuh.gpg] https://packages.wazuh.com/4.x/apt/ stable main" | \
  sudo tee /etc/apt/sources.list.d/wazuh.list
sudo apt update

# Install manager + filebeat
sudo apt install -y wazuh-manager filebeat

# Start services
sudo systemctl enable --now wazuh-manager filebeat
sudo systemctl status wazuh-manager

# (Opsional) Install agent di honeypot VM
curl -s https://packages.wazuh.com/key/GPG-KEY-WAZUH | sudo gpg --dearmor -o /usr/share/keyrings/wazuh.gpg
echo "deb [signed-by=/usr/share/keyrings/wazuh.gpg] https://packages.wazuh.com/4.x/apt/ stable main" | \
  sudo tee /etc/apt/sources.list.d/wazuh.list
sudo apt update
sudo apt install -y wazuh-agent
sudo sed -i 's/MANAGER_IP/192.168.56.107/' /var/ossec/etc/ossec.conf
sudo systemctl enable --now wazuh-agent
</code></pre>
          <p class="text-muted">Gunakan IP manager sesuai topologi lab Anda. Jangan expose ke internet publik tanpa hardening.</p>
        </section>

        <section class="mt-4">
          <h4>7) Wireshark / Tshark — Capture & Analisis</h4>
          <pre><code># Tangkap trafik SSH/Telnet ke honeypot
sudo tshark -i eth0 -f "host 192.168.56.101 and (port 22 or port 23)" -w honeypot.pcap

# Filter cepat (di Wireshark)
# ssh
# tcp.flags.syn==1 and tcp.flags.ack==0
# tcp contains "wget" or tcp contains "curl"
</code></pre>
        </section>

        <section class="mt-4">
          <h4>8) Checklist Keamanan & Etika</h4>
          <ul>
            <li>Selalu di jaringan terisolasi; jangan expose layanan lab ke internet.</li>
            <li>Gunakan akun terbatas; hindari kredensial produksi.</li>
            <li>Rotasi log (Snort/Cowrie) dan monitor disk usage.</li>
            <li>Snapshot sebelum uji; rollback setelah selesai.</li>
          </ul>
        </section>

        <div class="mt-4"><a class="btn btn-outline-primary" href="index.html">← Kembali ke Beranda</a></div>
      </div>
    </main>

    <footer class="mt-5"><div class="container text-center small">&copy; 2025 Reinardus — Tutorial Lab Aman</div></footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
